Description: Fix background color of sliders
Author: Benjamin Drung <bdrung@ubuntu.com>
Bug: http://bugzilla.audacityteam.org/show_bug.cgi?id=175
Applied-Upstream: 1.3.13

--- audacity-1.3.12.orig/src/widgets/ASlider.cpp
+++ audacity-1.3.12/src/widgets/ASlider.cpp
@@ -62,6 +62,7 @@ of an LWSlider or ASlider.
 #include <wx/button.h>
 #include <wx/statline.h>
 #include <wx/sizer.h>
+#include <wx/settings.h>
 
 #if defined(__WXMSW__) && !defined(__CYGWIN__)
 #define USE_POPUPWIN 1
@@ -572,6 +573,13 @@ void LWSlider::OnPaint(wxDC &dc, bool se
       dc.Clear();
    }
 #endif
+#if defined(__WXGTK__)
+   if (mHW)
+   {
+      dc.SetBackground(wxSystemSettings::GetColour(wxSYS_COLOUR_BACKGROUND));
+      dc.Clear();
+   }
+#endif
 
    dc.DrawBitmap(*mBitmap, mLeft, mTop, true);
    if (mOrientation == wxHORIZONTAL)
